<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Revero - Главная</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: #0f0f0f;
      color: #fff;
    }
    main {
      padding-bottom: 100px;
    }
    header {
      padding: 1rem;
      background-color: #1a1a1a;
    }
    .logo {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
    }
    .topbar .assets {
      background: #2a2a2a;
      color: #ccc;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      font-weight: bold;
      font-size: 14px;
    }
    .topbar .btn {
      background: #b4ff1f;
      color: #000;
      padding: 0.6rem 1.2rem;
      border-radius: 8px;
      font-weight: bold;
      font-size: 14px;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .topbar .btn:active {
      transform: scale(0.98);
    }
    .banner img {
      width: 100%;
      border-radius: 12px;
      margin-bottom: 1rem;
    }
    .recommendations {
      padding: 1rem;
    }
    .recommend-grid {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    .recommend-card {
      background: #1a1a1a;
      border-radius: 12px;
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 0 0 1px #2a2a2a;
      transition: transform 0.2s;
      cursor: pointer;
    }
    .recommend-card:hover {
      transform: scale(1.01);
      background: #1e2b14;
      border: 1px solid #b4ff1f40;
    }
    .recommend-left {
      display: flex;
      gap: 0.75rem;
      align-items: center;
    }
    .recommend-icon {
      width: 36px;
      height: 36px;
      border-radius: 50%;
    }
    .recommend-info {
      display: flex;
      flex-direction: column;
    }
    .recommend-info strong {
      font-size: 16px;
    }
    .recommend-label {
      background: #2a2a2a;
      color: #b4ff1f;
      font-size: 12px;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      margin-top: 0.3rem;
      display: inline-block;
      width: fit-content;
    }
    .recommend-profit {
      font-weight: bold;
      font-size: 16px;
      transition: color 0.3s ease;
    }
    .profit-up {
      color: #00ff88;
    }
    .profit-down {
      color: #ff4f4f;
    }
    .live {
      padding: 1rem;
    }
    .live h3 {
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .live h3::before {
      content: '';
      display: inline-block;
      width: 10px;
      height: 10px;
      background: #00ff88;
      border-radius: 50%;
    }
    .live .item {
      background: #1a1a1a;
      border-radius: 12px;
      padding: 0.75rem 1rem;
      margin-bottom: 0.5rem;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      font-size: 14px;
      box-shadow: 0 0 0 1px #2a2a2a;
      transition: transform 0.2s;
      animation: slideIn 0.3s ease-out;
    }
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .live .item:hover {
      transform: scale(1.01);
      background: #1e1e1e;
    }
    .live .info {
      display: flex;
      flex-direction: column;
    }
    .live .desc {
      font-size: 12px;
      color: #888;
    }
    .live .amount {
      text-align: right;
      color: #b4ff1f;
      font-weight: bold;
    }
    .live .time {
      font-size: 12px;
      color: #888;
      margin-top: 4px;
    }
    nav {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: #1a1a1a;
      display: flex;
      justify-content: space-around;
      padding: 0.75rem 0;
      border-top: 1px solid #333;
      z-index: 999;
      min-height: 72px;
      box-shadow: 0 -2px 6px rgba(0, 0, 0, 0.4);
    }
    nav a {
      color: #888;
      text-align: center;
      font-size: 12px;
      text-decoration: none;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
    }
    nav a svg {
      width: 20px;
      height: 20px;
      fill: currentColor;
    }
    nav a.active {
      color: #b4ff1f;
    }
    .floating-btn {
      position: fixed;
      top: 12px;
      right: 20px;
      background: #b4ff1f;
      color: #000;
      font-weight: bold;
      padding: 0.75rem 1.25rem;
      border-radius: 999px;
      box-shadow: 0 0 12px rgba(0,0,0,0.4);
      z-index: 1001;
      transition: transform 0.3s ease, opacity 0.3s ease;
      opacity: 0;
      pointer-events: none;
    }
    .floating-btn:hover {
      transform: scale(1.05);
      cursor: pointer;
    }
    .floating-btn {
      opacity: 0;
      pointer-events: none;
    }
    .floating-btn.visible {
      opacity: 1;
      pointer-events: auto;
    }
    .floating-btn:hover {
      transform: scale(1.05);
      cursor: pointer;
    }
  </style>
</head>
<body>
  

  <main>
    <div class="topbar">
      <div class="assets">Всего активов: 0₽</div>
      <div class="btn">Пополнить</div>
    </div>

    <div class="banner">
      <img src="lamborghini_banner.png" alt="Lamborghini Huracan" />
    </div>

    <div class="recommendations">
      <h3>Рекомендации</h3>
      <div class="recommend-grid">
        <div class="recommend-card">
          <div class="recommend-left">
            <img src="https://cryptologos.cc/logos/toncoin-ton-logo.png" alt="TON" class="recommend-icon" />
            <div class="recommend-info">
              <strong>TON</strong>
              <span class="recommend-label">Для новых пользователей</span>
            </div>
          </div>
          <div id="profit-ton" class="recommend-profit profit-up">+1.4% в сутки</div>
        </div>
        <div class="recommend-card">
          <div class="recommend-left">
            <img src="https://cryptologos.cc/logos/tether-usdt-logo.png" alt="USDT" class="recommend-icon" />
            <div class="recommend-info">
              <strong>USDT</strong>
              <span class="recommend-label">Рекомендован</span>
            </div>
          </div>
          <div id="profit-usdt" class="recommend-profit profit-up">+1.7% в сутки</div>
        </div>
        <div class="recommend-card">
          <div class="recommend-left">
            <img src="https://cryptologos.cc/logos/bitcoin-btc-logo.png" alt="BTC" class="recommend-icon" />
            <div class="recommend-info">
              <strong>Bitcoin</strong>
              <span class="recommend-label">Приватный</span>
            </div>
          </div>
          <div id="profit-btc" class="recommend-profit profit-up">+2.1% в сутки</div>
        </div>
      </div>
    </div>

    <div class="live">
      <h3>Последние операции</h3>
      <!-- Транзакции будут добавляться сюда динамически -->
    </div>
      <div class="floating-btn">Пополнить</div>
  </main>

  <footer>
    <nav>
      <a class="active" href="#">
        <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
        Главная
      </a>
      <a href="wallet.html">
        <svg viewBox="0 0 24 24"><path d="M21 7H3V5h18v2zm0 2H3v10h18V9zM3 19c-1.1 0-2-.9-2-2V7c0-1.1.9-2 2-2h18c1.1 0 2 .9 2 2v10c0 1.1-.9 2-2 2H3z"/></svg>
        Кошелек
      </a>
      <a href="account.html">
        <svg viewBox="0 0 24 24"><path d="M12 12c2.7 0 8 1.3 8 4v2H4v-2c0-2.7 5.3-4 8-4zm0-2a4 4 0 100-8 4 4 0 000 8z"/></svg>
        Кабинет
      </a>
      <a href="partners.html">
        <svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zM8 11c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 2.05 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
        Партнеры
      </a>
      <a href="training.html">
        <svg viewBox="0 0 24 24"><path d="M12 3C8.1 3 5 6.1 5 10c0 3.9 3.1 7 7 7s7-3.1 7-7c0-3.9-3.1-7-7-7zm0 12c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5-2.2 5-5 5z"/></svg>
        Обучение
      </a>
    </nav>
  </footer>

  <script>
    const updates = {
      'profit-ton': 1.4,
      'profit-usdt': 1.7,
      'profit-btc': 2.1
    };
    function randomChange(val) {
      let delta = (Math.random() * 0.2 - 0.1).toFixed(2);
      return Math.max(0, (parseFloat(val) + parseFloat(delta)).toFixed(2));
    }
    function updatePrices() {
      for (const id in updates) {
        const el = document.getElementById(id);
        const old = updates[id];
        const next = randomChange(old);
        updates[id] = next;
        el.textContent = `+${next}% в сутки`;
        el.classList.remove('profit-up', 'profit-down');
        el.classList.add(next >= old ? 'profit-up' : 'profit-down');
      }
    }
    setInterval(updatePrices, 5000);

    // Генерация случайного времени для Live сделок
    function generateRandomTime() {
      const now = new Date();
      const offset = Math.floor(Math.random() * 10);
      now.setMinutes(now.getMinutes() - offset);
      return `${now.getDate()} апреля ${now.getFullYear()} | ${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
    }
    document.querySelectorAll(".time").forEach(el => {
      el.textContent = generateRandomTime();
    });
  

    // Автоматическое появление новых Live-сделок
    const liveContainer = document.querySelector('.live');
    const transactions = [3450669805, 2152569438, 3767145403, 4155314917];
    let lastId = Math.max(...transactions);

    function generateNewTransaction(animate = true) {
      lastId++;
      const amount = Math.floor(Math.random() * (24000 - 500 + 1)) + 500;
      const time = generateRandomTime();
      const isDeposit = Math.random() > 0.3; // 60% шанс пополнения, 40% вывода

      const newItem = document.createElement('div');
      newItem.className = 'item';
      if (animate) {
        newItem.style.opacity = '0';
        newItem.style.transition = 'opacity 0.5s ease';
      }
      newItem.innerHTML = `
        <div class="info">
          <div><strong>ID: ${lastId}</strong></div>
          <div class="desc">${isDeposit ? 'Пополнение баланса' : 'Вывод средств'}</div>
        </div>
        <div class="amount">
          <div style="color: ${isDeposit ? '#b4ff1f' : '#ff4f4f'}">${isDeposit ? '+' : '-'}${amount.toLocaleString()}₽</div>
          <div class="time">${time}</div>
        </div>
      `;

      const insertPoint = liveContainer.querySelector('.item');
      if (insertPoint) {
        liveContainer.insertBefore(newItem, insertPoint);
      } else {
        liveContainer.appendChild(newItem);
      }
      
      if (animate) {
        requestAnimationFrame(() => {
          newItem.style.opacity = '1';
        });
      }

      const items = liveContainer.querySelectorAll('.item');
      if (items.length > 5) {
        liveContainer.removeChild(items[items.length - 1]);
      }
    }

    // Генерируем первые 5 транзакций без анимации
    for (let i = 0; i < 5; i++) {
      generateNewTransaction(false);
    }

    // Устанавливаем интервал от 3 до 7 секунд для следующих транзакций
    function setRandomInterval(callback, minDelay, maxDelay) {
      let timeout;
      
      const runInterval = () => {
        const timeoutFunction = () => {
          callback();
          runInterval();
        };
        
        const delay = Math.floor(Math.random() * (maxDelay - minDelay + 1)) + minDelay;
        timeout = setTimeout(timeoutFunction, delay);
      };
      
      runInterval();
      
      return {
        clear() { clearTimeout(timeout) }
      };
    }

    setRandomInterval(() => generateNewTransaction(true), 3000, 7000); // от 3 до 7 секунд

      // Показать плавающую кнопку при скролле вниз
    const floatBtn = document.querySelector('.floating-btn');
    let lastScrollTop = 0;
    window.addEventListener('scroll', () => {
      const st = window.pageYOffset || document.documentElement.scrollTop;
      if (st > 100) {
        floatBtn.classList.add('visible');
      } else {
        floatBtn.classList.remove('visible');
      }
      lastScrollTop = st <= 0 ? 0 : st;
    });
</script>
<script>
  const params = new URLSearchParams(window.location.search);
  const username = params.get("username");
  const id = params.get("id");

  if (username && id) {
    document.querySelectorAll("nav a").forEach(link => {
      const href = new URL(link.getAttribute("href"), window.location.origin);
      href.searchParams.set("username", username);
      href.searchParams.set("id", id);
      link.setAttribute("href", href.pathname + href.search);
    });
  }
</script>
</body>
</html>
